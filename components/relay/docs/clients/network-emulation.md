# Эмуляция поведения сети

## Управление RTT

```rust
//client.rs
pub extern "C" fn set_rtt_emulation(rtt_in_ms: u64, rtt_dispersion: f64);
```
- rtt-in-ms - эмуляция времени прохождения пакета от клиента до сервера и обратно, добавляется к реальному rtt сети;
- rtt_dispersion - 0..1, процент отклонения rtt для фрейма, так как сеть не бывает стабильна, 
  указание данного параметра позволяет более точно провести эмуляцию поведения сети;

## Управления потерей пакетов

```rust
//client.rs
pub extern "C" fn set_drop_emulation(drop_probability: f64, drop_time_in_ms: u64);
```

- drop_probability 0..1 - вероятность поломки сети
- drop_time_in_ms - время поломки сети, если наступила вероятность поломки - то сеть не будет работать заданное время,
  что позволяет эмулировать пропадание сразу нескольких фреймов подряд, что характерно для мобильных сетей.
  
## Сброс эмуляции

Отключает эмуляцию сети, все не полученные и не отправленные фреймы будут потеряны.
```rust
//client.rs
pub extern "C" fn reset_emulation();
```
