
Существует два способа разграничения доступа — группа (более общий) и конфигурация прав (частный)

### Группы

Первый способ работы — разделение объектов и пользователей на логические группы. 
Например, пользователи синей команды и пользователи красной команды. 
Максимальное количество групп в комнате - 64.

#### Указание групп
Пользователю группы назначаются при конфигурировании комнаты 
([конфигурация комнаты](/components/relay/configuration/room)). 
Объекту группы назначаются при его создании.

####Использование групп

Пользователь получает доступ в RO режиме ко всем объектам, если объект входит в ту же группу что и пользователь. Например, если у пользователя группы 0b101, а у объекта группы
0b100, то у пользователя будет доступ к объекту, так как они оба в третьей группе.

Пользователь может создать объект с группами, в которых он сам. Например, если у пользователя группы 0b11, то он может создавать объекты следующих групп: 0b1, 0b10, 0b11
 

### Права доступа

Это более избирательный способ назначить правила доступа для отдельных частей объекта.
По-умолчанию доступ на изменения объекта есть у его создания, доступ на чтения - у всех пользователей с учетом групп.
Данное правило можно изменить, задав в RoomTemplate права доступа.

#### Типы прав

- deny - запрет любого доступа
- ro - доступ только для чтения
- rw - доступ чтение/запись

У создателя объекта всегда rw.


#### Пример конфигурации (RoomTemplate)

```yaml
permissions:
  templates:
    - template: 10 # указываем шаблон объекта, для которого осуществляется настройка прав
      rules: # можно изменить права для конкретных групп
        - groups: 7
          permission: ro | rw | deny
        fields: # можно изменить права для конкретных полей (приоритет выше чем права групп) 
          - id: 55
            type: long | float | structure | event
            rules:
              - groups: 9
                permission: ro | rw | deny
```


### Загрузка объекта
Команды для загрузки отдельных полей подчиняются правам доступа на общих основаниях, если поле для конкретного пользователя не доступна по правам доступа - то оно не будет 
загружено. Однако если у объекта не будет вообще доступных полей для пользователя, но он будет в разрешенной группе доступа — команды create/created на клиент будут отосланы.

