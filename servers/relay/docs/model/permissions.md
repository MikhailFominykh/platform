# Разграничение доступа

Существует два способа разграничения дступа - группа (более общий) и конфигурация прав (частный)

## Группы

Первый способ работы - разделение объектов и пользователей на логические группы. Например, пользователи синей команды и пользователи красной команды. Всего в комнате может быть 64
группы, так как группы кодируется в u64, с помощью возведения соответствующих бит.

### Указание групп
Пользователю группы назначаются при конфигурировании комнаты (RoomTemlate). 
Объекту группы назначаются при его создании.

### Использование групп

Пользователь получает доступ в RO режиме ко всем объектам, если объект входит в ту же группу что и пользователь. Например, если у пользователя группы 0b101, а у объекта группы
0b100, то у пользователя будет доступ к объекту, так как они оба в третьей группе.

Пользователь может создать объект с группами, в которых он сам. Например, если у пользователя группы 0b11, то он может создавать объекты следующих групп: 0b1, 0b10, 0b11
 

## Права доступа

Это более избирательный способ назначить правила доступа для отдельных частей объекта.
По-умолчанию доступ на изменения объекта есть у его создания, доступ на чтения - у всех пользователей с учетом групп.
Данное правило можно изменить, задав в RoomTemplate права доступа.

### Типы прав

- deny - запрет любого доступа
- ro - доступ только для чтения
- rw - доступ чтение/запись

У создателя объекта всегда rw.


### Пример конфигурации (RoomTemplate)

```yaml
permissions:
  templates:
    - template: 10 # указываем шаблон объекта, для которого осуществляется настройка прав
      groups: # можно изменить права для конкретных групп
        - group: 7
          permission: ro | rw | deny
        fields: # можно изменить права для конкретных полей (приоритет выше чем права групп) 
          - field_id: 55
            field_type: long | float | structure | event
            groups:
              - group: 9
                permission: ro | rw | deny
```


